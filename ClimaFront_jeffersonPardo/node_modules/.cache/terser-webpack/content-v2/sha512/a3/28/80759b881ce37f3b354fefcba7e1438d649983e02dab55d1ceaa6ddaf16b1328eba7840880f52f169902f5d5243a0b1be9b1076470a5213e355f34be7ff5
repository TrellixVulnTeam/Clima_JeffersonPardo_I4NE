{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{tylH:function(t,e,a){\"use strict\";a.r(e),a.d(e,\"ClimaModule\",(function(){return _}));var i=a(\"ofXK\"),r=a(\"3Pt+\"),c=a(\"tyNb\"),n=a(\"fXoL\"),o=a(\"AytR\"),m=a(\"tk/3\");let l=(()=>{class t{constructor(t){this.http=t}getAllClimaData(){return console.log(\"entro a all\"),this.http.get(o.a.url_api+\"/Clima/\")}getClimaData(t){return this.http.get(`${o.a.url_api}/Clima/${t}`)}createClimaData(t){return this.http.post(o.a.url_api+\"/Clima/\",t)}updateClimaData(t,e){return this.http.put(`${o.a.url_api}/Clima/${t}`,e)}deleteClimaData(t){return this.http.delete(`${o.a.url_api}/Clima/${t}`)}}return t.\\u0275fac=function(e){return new(e||t)(n.Vb(m.a))},t.\\u0275prov=n.Hb({token:t,factory:t.\\u0275fac,providedIn:\"root\"}),t})();var d=a(\"OaSA\"),b=a(\"bTqV\");function s(t,e){1&t&&(n.Rb(0,\"th\",10),n.tc(1,\"ID\"),n.Qb())}function u(t,e){if(1&t&&(n.Rb(0,\"td\",11),n.tc(1),n.Qb()),2&t){const t=e.$implicit;n.Bb(1),n.vc(\" \",t.idClima,\" \")}}function f(t,e){1&t&&(n.Rb(0,\"th\",10),n.tc(1,\"Fecha\"),n.Qb())}function p(t,e){if(1&t&&(n.Rb(0,\"td\",11),n.tc(1),n.cc(2,\"date\"),n.Qb()),2&t){const t=e.$implicit;n.Bb(1),n.vc(\" \",n.dc(2,1,t.fecha,\"medium\"),\" \")}}function h(t,e){1&t&&(n.Rb(0,\"th\",10),n.tc(1,\"Temperatura\"),n.Qb())}function g(t,e){if(1&t&&(n.Rb(0,\"td\",11),n.tc(1),n.Qb()),2&t){const t=e.$implicit;n.Bb(1),n.vc(\" \",t.temperatura,\" \")}}function v(t,e){1&t&&(n.Rb(0,\"th\",10),n.tc(1,\"Humedad\"),n.Qb())}function R(t,e){if(1&t&&(n.Rb(0,\"td\",11),n.tc(1),n.Qb()),2&t){const t=e.$implicit;n.Bb(1),n.vc(\" \",t.humedad,\" %\")}}function C(t,e){1&t&&(n.Rb(0,\"th\",10),n.tc(1,\"Actions\"),n.Qb())}const Q=function(t){return[\"edit\",t]};function w(t,e){if(1&t){const t=n.Sb();n.Rb(0,\"td\",11),n.Rb(1,\"a\",12),n.tc(2,\"Editar\"),n.Qb(),n.Rb(3,\"button\",13),n.Yb(\"click\",(function(){n.kc(t);const a=e.$implicit;return n.bc().deleteClimaData(a.idClima)})),n.tc(4,\" Eliminar \"),n.Qb(),n.Qb()}if(2&t){const t=e.$implicit;n.Bb(1),n.gc(\"routerLink\",n.hc(1,Q,t.idClima))}}function D(t,e){1&t&&n.Mb(0,\"tr\",14)}function y(t,e){1&t&&n.Mb(0,\"tr\",15)}let M=(()=>{class t{constructor(t){this.climaService=t,this.climaList=[],this.displayedColumns=[\"idClima\",\"fecha\",\"temperatura\",\"humedad\",\"actions\"]}ngOnInit(){this.fetchClimaData()}fetchClimaData(){this.climaService.getAllClimaData().subscribe(t=>{this.climaList=t})}deleteClimaData(t){this.climaService.deleteClimaData(t).subscribe(t=>{this.fetchClimaData()})}}return t.\\u0275fac=function(e){return new(e||t)(n.Lb(l))},t.\\u0275cmp=n.Fb({type:t,selectors:[[\"app-listar-datos-clima\"]],decls:18,vars:3,consts:[[\"mat-table\",\"\",1,\"mat-elevation-z8\",\"products-table\",3,\"dataSource\"],[\"matColumnDef\",\"idClima\"],[\"mat-header-cell\",\"\",4,\"matHeaderCellDef\"],[\"mat-cell\",\"\",4,\"matCellDef\"],[\"matColumnDef\",\"fecha\"],[\"matColumnDef\",\"temperatura\"],[\"matColumnDef\",\"humedad\"],[\"matColumnDef\",\"actions\"],[\"mat-header-row\",\"\",4,\"matHeaderRowDef\"],[\"mat-row\",\"\",4,\"matRowDef\",\"matRowDefColumns\"],[\"mat-header-cell\",\"\"],[\"mat-cell\",\"\"],[\"mat-raised-button\",\"\",1,\"btn-editar\",3,\"routerLink\"],[\"mat-raised-button\",\"\",\"color\",\"warn\",3,\"click\"],[\"mat-header-row\",\"\"],[\"mat-row\",\"\"]],template:function(t,e){1&t&&(n.Rb(0,\"table\",0),n.Pb(1,1),n.sc(2,s,2,0,\"th\",2),n.sc(3,u,2,1,\"td\",3),n.Ob(),n.Pb(4,4),n.sc(5,f,2,0,\"th\",2),n.sc(6,p,3,4,\"td\",3),n.Ob(),n.Pb(7,5),n.sc(8,h,2,0,\"th\",2),n.sc(9,g,2,1,\"td\",3),n.Ob(),n.Pb(10,6),n.sc(11,v,2,0,\"th\",2),n.sc(12,R,2,1,\"td\",3),n.Ob(),n.Pb(13,7),n.sc(14,C,2,0,\"th\",2),n.sc(15,w,5,3,\"td\",3),n.Ob(),n.sc(16,D,1,0,\"tr\",8),n.sc(17,y,1,0,\"tr\",9),n.Qb()),2&t&&(n.gc(\"dataSource\",e.climaList),n.Bb(16),n.gc(\"matHeaderRowDef\",e.displayedColumns),n.Bb(1),n.gc(\"matRowDefColumns\",e.displayedColumns))},directives:[d.j,d.c,d.e,d.b,d.g,d.i,d.d,d.a,b.a,c.d,b.b,d.f,d.h],pipes:[i.d],styles:[\".mat-table[_ngcontent-%COMP%]{width:100%}.btn-editar[_ngcontent-%COMP%]{margin-right:1rem}\"]}),t})();var P=a(\"PDjf\"),k=a(\"Q2Ze\"),O=a(\"e6WT\"),B=a(\"iadO\");let S=(()=>{class t{constructor(t,e,a){this.formBuilder=t,this.climaService=e,this.router=a,this.$emit=new n.o,this.buildForm()}ngOnInit(){}buildForm(){this.formulario=this.formBuilder.group({fecha:[Date,[r.n.required]],temperatura:[0,[r.n.required]],humedad:[0,[r.n.required]]})}saveProduct(t){t.preventDefault(),this.formulario.valid&&this.climaService.createClimaData(this.formulario.value).subscribe(t=>{this.$emit.emit(),this.buildForm()})}}return t.\\u0275fac=function(e){return new(e||t)(n.Lb(r.c),n.Lb(l),n.Lb(c.c))},t.\\u0275cmp=n.Fb({type:t,selectors:[[\"app-agregar-datos-clima\"]],outputs:{$emit:\"$emit\"},decls:26,vars:4,consts:[[1,\"formulario-agregar\",3,\"formGroup\",\"ngSubmit\"],[1,\"row\"],[1,\"col-xs\"],[\"appearance\",\"fill\",1,\"example-full-width\"],[\"placeholder\",\"fecha\",\"formControlName\",\"fecha\",\"matInput\",\"\",3,\"matDatepicker\"],[\"matSuffix\",\"\",3,\"for\"],[\"picker\",\"\"],[\"placeholder\",\"temperatura\",\"formControlName\",\"temperatura\",\"matInput\",\"\",\"type\",\"number\"],[\"placeholder\",\"humedad\",\"formControlName\",\"humedad\",\"matInput\",\"\",\"type\",\"number\"],[\"mat-raised-button\",\"\",\"type\",\"submit\",3,\"disabled\"]],template:function(t,e){if(1&t&&(n.Rb(0,\"form\",0),n.Yb(\"ngSubmit\",(function(t){return e.saveProduct(t)})),n.Rb(1,\"mat-card\"),n.Rb(2,\"mat-card-header\"),n.Rb(3,\"mat-card-title\"),n.tc(4,\" Agregar datos \"),n.Qb(),n.Qb(),n.Rb(5,\"mat-card-content\"),n.Rb(6,\"div\",1),n.Rb(7,\"div\",2),n.Rb(8,\"mat-form-field\",3),n.Rb(9,\"mat-label\"),n.tc(10,\"Choose a date\"),n.Qb(),n.Mb(11,\"input\",4),n.Mb(12,\"mat-datepicker-toggle\",5),n.Mb(13,\"mat-datepicker\",null,6),n.Qb(),n.Qb(),n.Qb(),n.Rb(15,\"div\",1),n.Rb(16,\"div\",2),n.Rb(17,\"mat-form-field\"),n.Mb(18,\"input\",7),n.Qb(),n.Qb(),n.Qb(),n.Rb(19,\"div\",1),n.Rb(20,\"div\",2),n.Rb(21,\"mat-form-field\"),n.Mb(22,\"input\",8),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(23,\"mat-card-actions\"),n.Rb(24,\"button\",9),n.tc(25,\" Guardar \"),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t){const t=n.jc(14);n.gc(\"formGroup\",e.formulario),n.Bb(11),n.gc(\"matDatepicker\",t),n.Bb(1),n.gc(\"for\",t),n.Bb(12),n.gc(\"disabled\",e.formulario.invalid)}},directives:[r.o,r.j,r.e,P.a,P.d,P.f,P.c,k.b,k.e,r.b,O.b,B.b,r.i,r.d,B.d,k.f,B.a,r.l,P.b,b.b],styles:[\".formulario-agregar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}\"]}),t})();const $=[{path:\"\",component:(()=>{class t{constructor(t){this.router=t}ngOnInit(){}refrescarPagina(){console.log(\"entro a refrescarPagina\"),this.child.fetchClimaData()}}return t.\\u0275fac=function(e){return new(e||t)(n.Lb(c.c))},t.\\u0275cmp=n.Fb({type:t,selectors:[[\"app-index\"]],viewQuery:function(t,e){var a;1&t&&n.wc(M,!0),2&t&&n.ic(a=n.Zb())&&(e.child=a.first)},decls:7,vars:0,consts:[[1,\"clima-title\"],[1,\"grid-clima\"],[1,\"agregar-datos-wrap\",\"datos-wrap\"],[3,\"$emit\"],[1,\"listar-datos-wrap\",\"datos-wrap\"]],template:function(t,e){1&t&&(n.Rb(0,\"div\",0),n.tc(1,\" Datos del clima\\n\"),n.Qb(),n.Rb(2,\"div\",1),n.Rb(3,\"div\",2),n.Rb(4,\"app-agregar-datos-clima\",3),n.Yb(\"$emit\",(function(){return e.refrescarPagina()})),n.Qb(),n.Qb(),n.Rb(5,\"div\",4),n.Mb(6,\"app-listar-datos-clima\"),n.Qb(),n.Qb())},directives:[S,M],styles:[\".grid-clima[_ngcontent-%COMP%]{display:grid;grid-template-columns:1 1fr;gap:1rem}.datos-wrap[_ngcontent-%COMP%]{padding:2rem}.clima-title[_ngcontent-%COMP%]{padding:2rem 4rem .5rem;font-size:2rem;text-align:center}@media (min-width:1058px){.grid-clima[_ngcontent-%COMP%]{display:grid;grid-template-columns:min(100%,25rem) 1fr;gap:1rem;padding:1em 2em}}\"]}),t})()},{path:\"edit/:id\",component:(()=>{class t{constructor(t,e,a,i){this.formBuilder=t,this.climaService=e,this.router=a,this.activatedRoute=i,this.buildForm()}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.id=t.id,this.climaService.getClimaData(this.id).subscribe(t=>{this.formEdit.patchValue(t)})})}buildForm(){this.formEdit=this.formBuilder.group({idClima:[\"\"],fecha:[Date,[r.n.required]],temperatura:[0,[r.n.required]],humedad:[0,[r.n.required]]})}saveProduct(t){t.preventDefault(),this.formEdit.valid&&this.climaService.updateClimaData(this.id,this.formEdit.value).subscribe(t=>{console.log(t),this.router.navigate([\"./clima\"])})}}return t.\\u0275fac=function(e){return new(e||t)(n.Lb(r.c),n.Lb(l),n.Lb(c.c),n.Lb(c.a))},t.\\u0275cmp=n.Fb({type:t,selectors:[[\"app-editar-datos-clima\"]],decls:27,vars:4,consts:[[1,\"form-edit-wrap\"],[3,\"formGroup\",\"ngSubmit\"],[1,\"row\"],[1,\"col-xs\"],[\"appearance\",\"fill\",1,\"example-full-width\"],[\"placeholder\",\"fecha\",\"formControlName\",\"fecha\",\"matInput\",\"\",3,\"matDatepicker\"],[\"matSuffix\",\"\",3,\"for\"],[\"picker\",\"\"],[\"placeholder\",\"temperatura\",\"formControlName\",\"temperatura\",\"matInput\",\"\",\"type\",\"number\"],[\"placeholder\",\"humedad\",\"formControlName\",\"humedad\",\"matInput\",\"\",\"type\",\"number\"],[\"mat-raised-button\",\"\",\"type\",\"submit\",3,\"disabled\"]],template:function(t,e){if(1&t&&(n.Rb(0,\"div\",0),n.Rb(1,\"form\",1),n.Yb(\"ngSubmit\",(function(t){return e.saveProduct(t)})),n.Rb(2,\"mat-card\"),n.Rb(3,\"mat-card-header\"),n.Rb(4,\"mat-card-title\"),n.tc(5,\" Editar registro \"),n.Qb(),n.Qb(),n.Rb(6,\"mat-card-content\"),n.Rb(7,\"div\",2),n.Rb(8,\"div\",3),n.Rb(9,\"mat-form-field\",4),n.Rb(10,\"mat-label\"),n.tc(11,\"Choose a date\"),n.Qb(),n.Mb(12,\"input\",5),n.Mb(13,\"mat-datepicker-toggle\",6),n.Mb(14,\"mat-datepicker\",null,7),n.Qb(),n.Qb(),n.Qb(),n.Rb(16,\"div\",2),n.Rb(17,\"div\",3),n.Rb(18,\"mat-form-field\"),n.Mb(19,\"input\",8),n.Qb(),n.Qb(),n.Qb(),n.Rb(20,\"div\",2),n.Rb(21,\"div\",3),n.Rb(22,\"mat-form-field\"),n.Mb(23,\"input\",9),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(24,\"mat-card-actions\"),n.Rb(25,\"button\",10),n.tc(26,\" Guardar \"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&t){const t=n.jc(15);n.Bb(1),n.gc(\"formGroup\",e.formEdit),n.Bb(11),n.gc(\"matDatepicker\",t),n.Bb(1),n.gc(\"for\",t),n.Bb(12),n.gc(\"disabled\",e.formEdit.invalid)}},directives:[r.o,r.j,r.e,P.a,P.d,P.f,P.c,k.b,k.e,r.b,O.b,B.b,r.i,r.d,B.d,k.f,B.a,r.l,P.b,b.b],styles:[\".form-edit-wrap[_ngcontent-%COMP%]{background-color:#b6c9d6;display:flex;justify-content:center;align-items:center;padding:3rem 2rem 4rem}\"]}),t})()}];let L=(()=>{class t{}return t.\\u0275mod=n.Jb({type:t}),t.\\u0275inj=n.Ib({factory:function(e){return new(e||t)},imports:[[c.e.forChild($)],c.e]}),t})();var I=a(\"hctd\");let _=(()=>{class t{}return t.\\u0275mod=n.Jb({type:t}),t.\\u0275inj=n.Ib({factory:function(e){return new(e||t)},imports:[[i.b,L,I.a,r.m]]}),t})()}}]);","extractedComments":[]}