{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{tylH:function(t,e,a){\"use strict\";a.r(e),a.d(e,\"ClimaModule\",(function(){return G}));var i=a(\"ofXK\"),r=a(\"3Pt+\"),c=a(\"tyNb\"),n=a(\"fXoL\"),o=a(\"AytR\"),m=a(\"tk/3\");let l=(()=>{class t{constructor(t){this.http=t}getAllClimaData(){return console.log(\"entro a all\"),this.http.get(o.a.url_api+\"/Clima/\")}getClimaData(t){return this.http.get(`${o.a.url_api}/Clima/${t}`)}createClimaData(t){return this.http.post(o.a.url_api+\"/Clima/\",t)}updateClimaData(t,e){return this.http.put(`${o.a.url_api}/Clima/${t}`,e)}deleteClimaData(t){return this.http.delete(`${o.a.url_api}/Clima/${t}`)}}return t.\\u0275fac=function(e){return new(e||t)(n.Wb(m.a))},t.\\u0275prov=n.Ib({token:t,factory:t.\\u0275fac,providedIn:\"root\"}),t})();var d=a(\"OaSA\"),b=a(\"bTqV\");function u(t,e){1&t&&(n.Sb(0,\"th\",10),n.vc(1,\"ID\"),n.Rb())}function s(t,e){if(1&t&&(n.Sb(0,\"td\",11),n.vc(1),n.Rb()),2&t){const t=e.$implicit;n.Cb(1),n.xc(\" \",t.idClima,\" \")}}function f(t,e){1&t&&(n.Sb(0,\"th\",10),n.vc(1,\"Fecha\"),n.Rb())}function p(t,e){if(1&t&&(n.Sb(0,\"td\",11),n.vc(1),n.dc(2,\"date\"),n.Rb()),2&t){const t=e.$implicit;n.Cb(1),n.xc(\" \",n.fc(2,1,t.fecha,\"medium\"),\" \")}}function h(t,e){1&t&&(n.Sb(0,\"th\",10),n.vc(1,\"Temperatura\"),n.Rb())}function v(t,e){if(1&t&&(n.Sb(0,\"td\",11),n.vc(1),n.Rb()),2&t){const t=e.$implicit;n.Cb(1),n.xc(\" \",t.temperatura,\" \")}}function C(t,e){1&t&&(n.Sb(0,\"th\",10),n.vc(1,\"Humedad\"),n.Rb())}function S(t,e){if(1&t&&(n.Sb(0,\"td\",11),n.vc(1),n.Rb()),2&t){const t=e.$implicit;n.Cb(1),n.xc(\" \",t.humedad,\" %\")}}function g(t,e){1&t&&(n.Sb(0,\"th\",10),n.vc(1,\"Actions\"),n.Rb())}const R=function(t){return[\"edit\",t]};function D(t,e){if(1&t){const t=n.Tb();n.Sb(0,\"td\",11),n.Sb(1,\"a\",12),n.vc(2,\"Editar\"),n.Rb(),n.Sb(3,\"button\",13),n.Zb(\"click\",(function(){n.mc(t);const a=e.$implicit;return n.cc().deleteClimaData(a.idClima)})),n.vc(4,\" Eliminar \"),n.Rb(),n.Rb()}if(2&t){const t=e.$implicit;n.Cb(1),n.ic(\"routerLink\",n.jc(1,R,t.idClima))}}function w(t,e){1&t&&n.Nb(0,\"tr\",14)}function y(t,e){1&t&&n.Nb(0,\"tr\",15)}let P=(()=>{class t{constructor(t){this.climaService=t,this.climaList=[],this.displayedColumns=[\"idClima\",\"fecha\",\"temperatura\",\"humedad\",\"actions\"]}ngOnInit(){this.fetchClimaData()}fetchClimaData(){this.climaService.getAllClimaData().subscribe(t=>{this.climaList=t})}deleteClimaData(t){this.climaService.deleteClimaData(t).subscribe(t=>{this.fetchClimaData()})}}return t.\\u0275fac=function(e){return new(e||t)(n.Mb(l))},t.\\u0275cmp=n.Gb({type:t,selectors:[[\"app-listar-datos-clima\"]],decls:18,vars:3,consts:[[\"mat-table\",\"\",1,\"mat-elevation-z8\",\"products-table\",3,\"dataSource\"],[\"matColumnDef\",\"idClima\"],[\"mat-header-cell\",\"\",4,\"matHeaderCellDef\"],[\"mat-cell\",\"\",4,\"matCellDef\"],[\"matColumnDef\",\"fecha\"],[\"matColumnDef\",\"temperatura\"],[\"matColumnDef\",\"humedad\"],[\"matColumnDef\",\"actions\"],[\"mat-header-row\",\"\",4,\"matHeaderRowDef\"],[\"mat-row\",\"\",4,\"matRowDef\",\"matRowDefColumns\"],[\"mat-header-cell\",\"\"],[\"mat-cell\",\"\"],[\"mat-raised-button\",\"\",1,\"btn-editar\",3,\"routerLink\"],[\"mat-raised-button\",\"\",\"color\",\"warn\",3,\"click\"],[\"mat-header-row\",\"\"],[\"mat-row\",\"\"]],template:function(t,e){1&t&&(n.Sb(0,\"table\",0),n.Qb(1,1),n.uc(2,u,2,0,\"th\",2),n.uc(3,s,2,1,\"td\",3),n.Pb(),n.Qb(4,4),n.uc(5,f,2,0,\"th\",2),n.uc(6,p,3,4,\"td\",3),n.Pb(),n.Qb(7,5),n.uc(8,h,2,0,\"th\",2),n.uc(9,v,2,1,\"td\",3),n.Pb(),n.Qb(10,6),n.uc(11,C,2,0,\"th\",2),n.uc(12,S,2,1,\"td\",3),n.Pb(),n.Qb(13,7),n.uc(14,g,2,0,\"th\",2),n.uc(15,D,5,3,\"td\",3),n.Pb(),n.uc(16,w,1,0,\"tr\",8),n.uc(17,y,1,0,\"tr\",9),n.Rb()),2&t&&(n.ic(\"dataSource\",e.climaList),n.Cb(16),n.ic(\"matHeaderRowDef\",e.displayedColumns),n.Cb(1),n.ic(\"matRowDefColumns\",e.displayedColumns))},directives:[d.j,d.c,d.e,d.b,d.g,d.i,d.d,d.a,b.a,c.d,b.b,d.f,d.h],pipes:[i.e],styles:[\".mat-table[_ngcontent-%COMP%]{width:100%}.btn-editar[_ngcontent-%COMP%]{margin-right:1rem}\"]}),t})();var k=a(\"PDjf\"),N=a(\"Q2Ze\"),M=a(\"e6WT\"),$=a(\"iadO\");let x=(()=>{class t{constructor(t,e,a){this.formBuilder=t,this.climaService=e,this.router=a,this.$emit=new n.o,this.buildForm()}ngOnInit(){}buildForm(){this.formulario=this.formBuilder.group({fecha:[Date,[r.n.required]],temperatura:[0,[r.n.required]],humedad:[0,[r.n.required]]})}saveProduct(t){t.preventDefault(),this.formulario.valid&&this.climaService.createClimaData(this.formulario.value).subscribe(t=>{this.$emit.emit(),this.buildForm()})}}return t.\\u0275fac=function(e){return new(e||t)(n.Mb(r.c),n.Mb(l),n.Mb(c.c))},t.\\u0275cmp=n.Gb({type:t,selectors:[[\"app-agregar-datos-clima\"]],outputs:{$emit:\"$emit\"},decls:26,vars:4,consts:[[1,\"formulario-agregar\",3,\"formGroup\",\"ngSubmit\"],[1,\"row\"],[1,\"col-xs\"],[\"appearance\",\"fill\",1,\"example-full-width\"],[\"placeholder\",\"fecha\",\"formControlName\",\"fecha\",\"matInput\",\"\",3,\"matDatepicker\"],[\"matSuffix\",\"\",3,\"for\"],[\"picker\",\"\"],[\"placeholder\",\"temperatura\",\"formControlName\",\"temperatura\",\"matInput\",\"\",\"type\",\"number\"],[\"placeholder\",\"humedad\",\"formControlName\",\"humedad\",\"matInput\",\"\",\"type\",\"number\"],[\"mat-raised-button\",\"\",\"type\",\"submit\",3,\"disabled\"]],template:function(t,e){if(1&t&&(n.Sb(0,\"form\",0),n.Zb(\"ngSubmit\",(function(t){return e.saveProduct(t)})),n.Sb(1,\"mat-card\"),n.Sb(2,\"mat-card-header\"),n.Sb(3,\"mat-card-title\"),n.vc(4,\" Agregar datos \"),n.Rb(),n.Rb(),n.Sb(5,\"mat-card-content\"),n.Sb(6,\"div\",1),n.Sb(7,\"div\",2),n.Sb(8,\"mat-form-field\",3),n.Sb(9,\"mat-label\"),n.vc(10,\"Choose a date\"),n.Rb(),n.Nb(11,\"input\",4),n.Nb(12,\"mat-datepicker-toggle\",5),n.Nb(13,\"mat-datepicker\",null,6),n.Rb(),n.Rb(),n.Rb(),n.Sb(15,\"div\",1),n.Sb(16,\"div\",2),n.Sb(17,\"mat-form-field\"),n.Nb(18,\"input\",7),n.Rb(),n.Rb(),n.Rb(),n.Sb(19,\"div\",1),n.Sb(20,\"div\",2),n.Sb(21,\"mat-form-field\"),n.Nb(22,\"input\",8),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(23,\"mat-card-actions\"),n.Sb(24,\"button\",9),n.vc(25,\" Guardar \"),n.Rb(),n.Rb(),n.Rb(),n.Rb()),2&t){const t=n.lc(14);n.ic(\"formGroup\",e.formulario),n.Cb(11),n.ic(\"matDatepicker\",t),n.Cb(1),n.ic(\"for\",t),n.Cb(12),n.ic(\"disabled\",e.formulario.invalid)}},directives:[r.o,r.j,r.e,k.a,k.d,k.f,k.c,N.b,N.e,r.b,M.b,$.b,r.i,r.d,$.d,N.f,$.a,r.l,k.b,b.b],styles:[\".formulario-agregar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}\"]}),t})();const O=[{path:\"\",component:(()=>{class t{constructor(t){this.router=t}ngOnInit(){}refrescarPagina(){console.log(\"entro a refrescarPagina\"),this.child.fetchClimaData()}}return t.\\u0275fac=function(e){return new(e||t)(n.Mb(c.c))},t.\\u0275cmp=n.Gb({type:t,selectors:[[\"app-index\"]],viewQuery:function(t,e){var a;1&t&&n.yc(P,!0),2&t&&n.kc(a=n.ac())&&(e.child=a.first)},decls:7,vars:0,consts:[[1,\"clima-title\"],[1,\"grid-clima\"],[1,\"agregar-datos-wrap\",\"datos-wrap\"],[3,\"$emit\"],[1,\"listar-datos-wrap\",\"datos-wrap\"]],template:function(t,e){1&t&&(n.Sb(0,\"div\",0),n.vc(1,\" Datos del clima\\n\"),n.Rb(),n.Sb(2,\"div\",1),n.Sb(3,\"div\",2),n.Sb(4,\"app-agregar-datos-clima\",3),n.Zb(\"$emit\",(function(){return e.refrescarPagina()})),n.Rb(),n.Rb(),n.Sb(5,\"div\",4),n.Nb(6,\"app-listar-datos-clima\"),n.Rb(),n.Rb())},directives:[x,P],styles:[\".grid-clima[_ngcontent-%COMP%]{display:grid;grid-template-columns:1 1fr;gap:1rem}.datos-wrap[_ngcontent-%COMP%]{padding:2rem}.clima-title[_ngcontent-%COMP%]{padding:2rem 4rem .5rem;font-size:2rem;text-align:center}@media (min-width:1058px){.grid-clima[_ngcontent-%COMP%]{display:grid;grid-template-columns:min(100%,25rem) 1fr;gap:1rem;padding:1em 2em}}\"]}),t})()},{path:\"edit/:id\",component:(()=>{class t{constructor(t,e,a,i){this.formBuilder=t,this.climaService=e,this.router=a,this.activatedRoute=i,this.buildForm()}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.id=t.id,this.climaService.getClimaData(this.id).subscribe(t=>{this.formEdit.patchValue(t)})})}buildForm(){this.formEdit=this.formBuilder.group({idClima:[\"\"],fecha:[Date,[r.n.required]],temperatura:[0,[r.n.required]],humedad:[0,[r.n.required]]})}saveProduct(t){t.preventDefault(),this.formEdit.valid&&this.climaService.updateClimaData(this.id,this.formEdit.value).subscribe(t=>{console.log(t),this.router.navigate([\"./clima\"])})}}return t.\\u0275fac=function(e){return new(e||t)(n.Mb(r.c),n.Mb(l),n.Mb(c.c),n.Mb(c.a))},t.\\u0275cmp=n.Gb({type:t,selectors:[[\"app-editar-datos-clima\"]],decls:27,vars:4,consts:[[1,\"form-edit-wrap\"],[3,\"formGroup\",\"ngSubmit\"],[1,\"row\"],[1,\"col-xs\"],[\"appearance\",\"fill\",1,\"example-full-width\"],[\"placeholder\",\"fecha\",\"formControlName\",\"fecha\",\"matInput\",\"\",3,\"matDatepicker\"],[\"matSuffix\",\"\",3,\"for\"],[\"picker\",\"\"],[\"placeholder\",\"temperatura\",\"formControlName\",\"temperatura\",\"matInput\",\"\",\"type\",\"number\"],[\"placeholder\",\"humedad\",\"formControlName\",\"humedad\",\"matInput\",\"\",\"type\",\"number\"],[\"mat-raised-button\",\"\",\"type\",\"submit\",3,\"disabled\"]],template:function(t,e){if(1&t&&(n.Sb(0,\"div\",0),n.Sb(1,\"form\",1),n.Zb(\"ngSubmit\",(function(t){return e.saveProduct(t)})),n.Sb(2,\"mat-card\"),n.Sb(3,\"mat-card-header\"),n.Sb(4,\"mat-card-title\"),n.vc(5,\" Editar registro \"),n.Rb(),n.Rb(),n.Sb(6,\"mat-card-content\"),n.Sb(7,\"div\",2),n.Sb(8,\"div\",3),n.Sb(9,\"mat-form-field\",4),n.Sb(10,\"mat-label\"),n.vc(11,\"Choose a date\"),n.Rb(),n.Nb(12,\"input\",5),n.Nb(13,\"mat-datepicker-toggle\",6),n.Nb(14,\"mat-datepicker\",null,7),n.Rb(),n.Rb(),n.Rb(),n.Sb(16,\"div\",2),n.Sb(17,\"div\",3),n.Sb(18,\"mat-form-field\"),n.Nb(19,\"input\",8),n.Rb(),n.Rb(),n.Rb(),n.Sb(20,\"div\",2),n.Sb(21,\"div\",3),n.Sb(22,\"mat-form-field\"),n.Nb(23,\"input\",9),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(24,\"mat-card-actions\"),n.Sb(25,\"button\",10),n.vc(26,\" Guardar \"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb()),2&t){const t=n.lc(15);n.Cb(1),n.ic(\"formGroup\",e.formEdit),n.Cb(11),n.ic(\"matDatepicker\",t),n.Cb(1),n.ic(\"for\",t),n.Cb(12),n.ic(\"disabled\",e.formEdit.invalid)}},directives:[r.o,r.j,r.e,k.a,k.d,k.f,k.c,N.b,N.e,r.b,M.b,$.b,r.i,r.d,$.d,N.f,$.a,r.l,k.b,b.b],styles:[\".form-edit-wrap[_ngcontent-%COMP%]{background-color:#b6c9d6;display:flex;justify-content:center;align-items:center;padding:3rem 2rem 4rem}\"]}),t})()}];let I=(()=>{class t{}return t.\\u0275mod=n.Kb({type:t}),t.\\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[c.e.forChild(O)],c.e]}),t})();var _=a(\"hctd\");let G=(()=>{class t{}return t.\\u0275mod=n.Kb({type:t}),t.\\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[i.c,I,_.a,r.m]]}),t})()}}]);","extractedComments":[]}